<!doctype html>
<html lang="en">
<head>
  <title>SkillZone - Courses</title> 

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- Optional theme -->
  <link rel="stylesheet" href="css/bootstrap-theme.min.css">
  <link href="css/stylesheet.css" rel="stylesheet">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/jquery.stayInWebApp.js"></script>
  <script type="text/javascript" src="js/util.js"></script>
  
<style>
 .starRate {position:relative; margin:20px; overflow:hidden; zoom:1;}
.starRate ul {width:160px; margin:0; padding:0;}
.starRate li {display:inline; list-style:none;}
.starRate a, .starRate b {background:url(img/star_rate.gif) left top repeat-x;}
.starRate a {float:right; margin:0 80px 0 -144px; width:80px; height:16px; background-position:left 16px; color:#000; text-decoration:none;}
.starRate b {position:absolute; z-index:-1; width:80px; height:16px; background-position:left -16px;}
.starRate div b {left:0px; bottom:0px; background-position:left top;}
.starRate a span {position:absolute; left:-300px;}
 </style>
</head>
<nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <button class="navbar-btn">
            <a href="/" class="btn" onclick="history.back();return false;"><i class="fa fa-arrow-left fa-fw"></i></a>
          </button>
          <a class="navbar-brand" >Courses</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/logged_in"><i class="fa fa-home fa-fw"></i>&nbsp; Home</a></li>
            <li><a href="/courses"><i class="fa fa-book fa-fw"></i>&nbsp; Courses</a></li>
            <li><a href="/settings"><i class="fa fa-cog fa-fw"></i>&nbsp; Settings</a></li>
            <li><a href="/log_out"><i class="fa fa-sign-out fa-fw"></i>&nbsp; Logout</a></li>
          </ul>
        </div>
      </div>
    </nav>
<body onload="check()">
	<div class="container">
	<form>
	<strong>Sort By:</strong>
	<select name="sort" onchange='this.form.submit()'>
			<option value="" id="defaultOption" selected=true> Select Sorting Option</option>
			<option value="course" id="courseOption" >Course</option>
			<option value="category" id="categoryOption">Category</option>
			<option value="rating"id="ratingOption">Rating</option>
	</select>
	</form>
	<br><br>
	{{#each courses}}
		<div class="courses" id="{{courseName}}">
		<a href="class_page?currentCourse={{courseName}}" name="{{courseName}}" onclick=buttonClicked(this)>
			<button class="btn btn-default btn-lg btn-block" role="button">
				<p><center><img src="{{courseImageURL}}" height="100" width="100"></center></p>
				<p>Course Name: {{courseName}}</p>
				<p>Teacher: {{last}}, {{first}}</p>
				<p>Description: {{description}}</p>
				<p>Category: {{category}}</p>
			</button>
		</a>
				
		</div>
		<div class="starRate" name="star" value="{{rating}}">
			<div><strong>{{courseName}}'s rating:</strong><b></b></div>
			<ul>
					<li><a id="star5"><span></span></a></li>
					<li><a id="star4"><span></span></a></li>
					<li><a id="star3"><span></span></a></li>
					<li><a id="star2"><span></span></a></li>
					<li><a id="star1"><span></span></a></li>
			</ul>
		</div>
	{{/each}}
	</div>
</body>
<script>
function check()
{
	var courses = document.getElementsByName("star");
	var i;
	for(i=0; i< courses.length; i++)
	{
		var strRating = courses[i].getAttribute("value");
		
		var intRating = Number(strRating);
		if(intRating != 0)
		{
			courses[i].children[1].children[5-intRating].children[0].innerHTML = "<span></span><b></b>";
		}
	}
}
</script>
</html>
